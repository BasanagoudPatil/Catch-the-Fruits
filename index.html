<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Catch the Fruits üçéüçåüçä</title>
<style>
  body {
    margin: 0;
    background: linear-gradient(to bottom, #a2d4ff, #f9f9f9);
    font-family: Arial, sans-serif;
    overflow: hidden;
    touch-action: none;
  }
  #game {
    position: relative;
    width: 100%;
    height: 100vh;
    overflow: hidden;
  }
  #basket {
    position: absolute;
    bottom: 5vh;              /* stay visible above browser bar */
    left: 50%;
    transform: translateX(-50%);
    width: 20vw;              /* responsive width */
    height: 8vh;              /* responsive height */
    max-width: 120px;         /* safe for big screens */
    min-width: 60px;          /* safe for small screens */
    max-height: 70px;
    min-height: 40px;
    background: saddlebrown;
    border-radius: 0 0 40px 40px;
    z-index: 10;
  font-size: 6vh; /* scales with screen height */
    line-height: 1;

  }
  .fruit {
    position: absolute;
    font-size: 6vw;           /* scale fruit with screen */
    min-font-size: 24px;
    max-font-size: 40px;
  }
  #scoreBoard {
    position: absolute;
    top: 10px;
    left: 10px;
    font-size: 20px;
    background: rgba(255,255,255,0.8);
    padding: 5px 10px;
    border-radius: 8px;
  }
  #gameOver {
    position: absolute;
    top: 0;
    left: 0;
    width:100%;
    height:100%;
    background: rgba(0,0,0,0.7);
    color: white;
    font-size: 28px;
    display: flex;
    flex-direction: column;
    justify-content:center;
    align-items:center;
    display: none;
    z-index: 20;
  }
  #restartBtn {
    margin-top: 20px;
    padding: 10px 20px;
    background: orange;
    border: none;
    border-radius: 8px;
    font-size: 20px;
    cursor: pointer;
  }
</style>
</head>
<body>
<div id="game">
  <div id="basket"></div>
  <div id="scoreBoard">Score: 0 | Misses: 0</div>
  <div id="gameOver">
    <div id="finalScore">Game Over</div>
    <button id="restartBtn">Restart</button>
  </div>
</div>

<script>
const game = document.getElementById("game");
const basket = document.getElementById("basket");
const scoreBoard = document.getElementById("scoreBoard");
const gameOverScreen = document.getElementById("gameOver");
const finalScore = document.getElementById("finalScore");
const restartBtn = document.getElementById("restartBtn");

const fruits = ["üçé","üçå","üçä","üçá","üçâ"];
let score = 0;
let misses = 0;
let gameInterval;
let basketX = window.innerWidth/2 - basket.offsetWidth/2;
let basketSpeed = 20;
let isGameOver = false;

// Update basket position
function moveBasket(dir) {
  if (isGameOver) return;
  basketX += dir * basketSpeed;
  if (basketX < 0) basketX = 0;
  if (basketX > window.innerWidth - basket.offsetWidth) {
    basketX = window.innerWidth - basket.offsetWidth;
  }
  basket.style.left = basketX + "px";
}

// Spawn a fruit
function spawnFruit() {
  if (isGameOver) return;
  const fruit = document.createElement("div");
  fruit.classList.add("fruit");
  fruit.innerText = fruits[Math.floor(Math.random()*fruits.length)];
  fruit.style.left = Math.random() * (window.innerWidth - 30) + "px";
  fruit.style.top = "0px";
  game.appendChild(fruit);

  let fallInterval = setInterval(() => {
    if (isGameOver) {
      clearInterval(fallInterval);
      fruit.remove();
      return;
    }
    let top = parseInt(fruit.style.top);
    fruit.style.top = top + 5 + "px";

    let fruitRect = fruit.getBoundingClientRect();
    let basketRect = basket.getBoundingClientRect();

    if (
      fruitRect.bottom >= basketRect.top &&
      fruitRect.left < basketRect.right &&
      fruitRect.right > basketRect.left
    ) {
      // caught
      score++;
      scoreBoard.innerText = `Score: ${score} | Misses: ${misses}`;
      fruit.remove();
      clearInterval(fallInterval);
    } else if (fruitRect.top > window.innerHeight) {
      // missed
      misses++;
      scoreBoard.innerText = `Score: ${score} | Misses: ${misses}`;
      fruit.remove();
      clearInterval(fallInterval);
      if (misses >= 5) {
        endGame();
      }
    }
  }, 30);
}

// Game loop
function startGame() {
  score = 0;
  misses = 0;
  isGameOver = false;
  scoreBoard.innerText = `Score: ${score} | Misses: ${misses}`;
  gameOverScreen.style.display = "none";
  basketX = window.innerWidth/2 - basket.offsetWidth/2;
  basket.style.left = basketX + "px";
  gameInterval = setInterval(spawnFruit, 1200);
}

function endGame() {
  isGameOver = true;
  clearInterval(gameInterval);
  finalScore.innerText = `Game Over! Final Score: ${score}`;
  gameOverScreen.style.display = "flex";
}

// Controls
document.addEventListener("keydown", e => {
  if (e.key === "ArrowLeft") moveBasket(-1);
  if (e.key === "ArrowRight") moveBasket(1);
});

// Mobile touch drag
let touchStartX = null;
game.addEventListener("touchstart", e => {
  touchStartX = e.touches[0].clientX;
});
game.addEventListener("touchmove", e => {
  if (touchStartX !== null) {
    let dx = e.touches[0].clientX - touchStartX;
    basketX += dx;
    if (basketX < 0) basketX = 0;
    if (basketX > window.innerWidth - basket.offsetWidth) {
      basketX = window.innerWidth - basket.offsetWidth;
    }
    basket.style.left = basketX + "px";
    touchStartX = e.touches[0].clientX;
  }
});
game.addEventListener("touchend", () => {
  touchStartX = null;
});

restartBtn.addEventListener("click", () => {
  startGame();
});

window.addEventListener("resize", () => {
  if (basketX > window.innerWidth - basket.offsetWidth) {
    basketX = window.innerWidth - basket.offsetWidth;
    basket.style.left = basketX + "px";
  }
});

// Start
startGame();
</script>
</body>
</html>
